import numpy as np
import pandas as pd
from sklearn.decomposition import PCA
from sklearn.datasets import load_iris
import matplotlib.pyplot as plt

# Function to perform PCA and return transformed data
def perform_pca(X, n_runs=5):
    transformed_data = []
    for _ in range(n_runs):
        pca = PCA(n_components=2, whiten=False)
        X_transformed = pca.fit_transform(X)
        transformed_data.append(X_transformed)
    return np.array(transformed_data)

# Load IRIS dataset
iris = load_iris()
X = iris.data

# Perform PCA 5 times on PC
pc_data = perform_pca(X)

mcu_data_run_1 = [
    [-2.684125, 0.319397],
    [-2.714141, -0.177001],
    [-2.888991, -0.144949],
    [-2.745343, -0.318299],
    [-2.728716, 0.326755],
    [-2.280859, 0.741331],
    [-2.820538, -0.089461],
    [-2.626145, 0.163385],
    [-2.886383, -0.578312],
    [-2.672755, -0.113774],
    [-2.506947, 0.645069],
    [-2.612755, 0.014730],
    [-2.786109, -0.235112],
    [-3.223804, -0.511394],
    [-2.644750, 1.178765],
    [-2.386039, 1.338062],
    [-2.623528, 0.810680],
    [-2.648297, 0.311849],
    [-2.199820, 0.872839],
    [-2.587986, 0.513560],
    [-2.310256, 0.391346],
    [-2.543705, 0.432996],
    [-3.215939, 0.133468],
    [-2.302733, 0.098709],
    [-2.355754, -0.037282],
    [-2.506669, -0.146017],
    [-2.468820, 0.130952],
    [-2.562320, 0.367719],
    [-2.639535, 0.312040],
    [-2.631989, -0.196961],
    [-2.587398, -0.204318],
    [-2.409932, 0.410925],
    [-2.648862, 0.813364],
    [-2.598737, 1.093146],
    [-2.636927, -0.121322],
    [-2.866241, 0.069365],
    [-2.625238, 0.599370],
    [-2.800684, 0.268644],
    [-2.980502, -0.487958],
    [-2.590006, 0.229044],
    [-2.770103, 0.263528],
    [-2.849369, -0.940961],
    [-2.997406, -0.341926],
    [-2.405614, 0.188872],
    [-2.209489, 0.436663],
    [-2.714451, -0.250208],
    [-2.538148, 0.503771],
    [-2.839462, -0.227946],
    [-2.543086, 0.579410],
    [-2.703360, 0.107706],
    [1.284826, 0.685161],
    [0.932489, 0.318334],
    [1.464303, 0.504263],
    [0.183318, -0.827959],
    [1.088103, 0.074591],
    [0.641669, -0.418247],
    [1.095061, 0.283469],
    [-0.749123, -1.004891],
    [1.044132, 0.228362],
    [-0.008745, -0.723082],
    [-0.507841, -1.265971],
    [0.511699, -0.103981],
    [0.264977, -0.550036],
    [0.984934, -0.124818],
    [-0.173925, -0.254854],
    [0.927861, 0.467179],
    [0.660284, -0.352970],
    [0.236105, -0.333610],
    [0.944734, -0.543146],
    [0.045227, -0.583834],
    [1.116284, -0.084617],
    [0.357889, -0.068925],
    [1.298184, -0.327787],
    [0.921729, -0.182738],
    [0.714854, 0.149056],
    [0.900174, 0.328505],
    [1.332025, 0.244441],
    [1.557802, 0.267495],
    [0.813291, -0.163350],
    [-0.305584, -0.368262],
    [-0.068126, -0.705172],
    [-0.189622, -0.680287],
    [0.136429, -0.314032],
    [1.380026, -0.420954],
    [0.588007, -0.484287],
    [0.806858, 0.194183],
    [1.220691, 0.407620],
    [0.815095, -0.372037],
    [0.245958, -0.268524],
    [0.166413, -0.681927],
    [0.464801, -0.670712],
    [0.890815, -0.034464],
    [0.230548, -0.404386],
    [-0.704532, -1.012248],
    [0.356981, -0.504910],
    [0.331934, -0.212655],
    [0.376216, -0.293219],
    [0.642576, 0.017738],
    [-0.906470, -0.756093],
    [0.299001, -0.348898],
    [2.531193, -0.009849],
    [1.415236, -0.574916],
    [2.616676, 0.343903],
    [1.971531, -0.179728],
    [2.350006, -0.040261],
    [3.397039, 0.550837],
    [0.521232, -1.192759],
    [2.932587, 0.355500],
    [2.321229, -0.243832],
    [2.916751, 0.782792],
    [1.661774, 0.242229],
    [1.803402, -0.215637],
    [2.165592, 0.216276],
    [1.346164, -0.776818],
    [1.585928, -0.539640],
    [1.904457, 0.119251],
    [1.949689, 0.041943],
    [3.487055, 1.175739],
    [3.795645, 0.257323],
    [1.300792, -0.761150],
    [2.427818, 0.378196],
    [1.199001, -0.606091],
    [3.499920, 0.460674],
    [1.388766, -0.204399],
    [2.275430, 0.334991],
    [2.614090, 0.560901],
    [1.258508, -0.179705],
    [1.291132, -0.116669],
    [2.123609, -0.209729],
    [2.388003, 0.464640],
    [2.841673, 0.375269],
    [3.230674, 1.374165],
    [2.159438, -0.217277],
    [1.444161, -0.143413],
    [1.781295, -0.499902],
    [3.076500, 0.688086],
    [2.144243, 0.140065],
    [1.905098, 0.049301],
    [1.169327, -0.164990],
    [2.107611, 0.372288],
    [2.314155, 0.183651],
    [1.922268, 0.409204],
    [1.415236, -0.574916],
    [2.563014, 0.277863],
    [2.418746, 0.304798],
    [1.944110, 0.187532],
    [1.527167, -0.375317],
    [1.764346, 0.078859],
    [1.900942, 0.116628],
    [1.390189, -0.282661],
]

mcu_data_run_2 = [
    [-2.684125, 0.319397],
    [-2.714141, -0.177001],
    [-2.888991, -0.144949],
    [-2.745343, -0.318299],
    [-2.728716, 0.326755],
    [-2.280859, 0.741331],
    [-2.820538, -0.089461],
    [-2.626145, 0.163385],
    [-2.886383, -0.578312],
    [-2.672755, -0.113774],
    [-2.506947, 0.645069],
    [-2.612755, 0.014730],
    [-2.786109, -0.235112],
    [-3.223804, -0.511394],
    [-2.644750, 1.178765],
    [-2.386039, 1.338062],
    [-2.623528, 0.810680],
    [-2.648297, 0.311849],
    [-2.199820, 0.872839],
    [-2.587986, 0.513560],
    [-2.310256, 0.391346],
    [-2.543705, 0.432996],
    [-3.215939, 0.133468],
    [-2.302733, 0.098709],
    [-2.355754, -0.037282],
    [-2.506669, -0.146017],
    [-2.468820, 0.130952],
    [-2.562320, 0.367719],
    [-2.639535, 0.312040],
    [-2.631989, -0.196961],
    [-2.587398, -0.204318],
    [-2.409932, 0.410925],
    [-2.648862, 0.813364],
    [-2.598737, 1.093146],
    [-2.636927, -0.121322],
    [-2.866241, 0.069365],
    [-2.625238, 0.599370],
    [-2.800684, 0.268644],
    [-2.980502, -0.487958],
    [-2.590006, 0.229044],
    [-2.770103, 0.263528],
    [-2.849369, -0.940961],
    [-2.997406, -0.341926],
    [-2.405614, 0.188872],
    [-2.209489, 0.436663],
    [-2.714451, -0.250208],
    [-2.538148, 0.503771],
    [-2.839462, -0.227946],
    [-2.543086, 0.579410],
    [-2.703360, 0.107706],
    [1.284826, 0.685161],
    [0.932489, 0.318334],
    [1.464303, 0.504263],
    [0.183318, -0.827959],
    [1.088103, 0.074591],
    [0.641669, -0.418247],
    [1.095061, 0.283469],
    [-0.749123, -1.004891],
    [1.044132, 0.228362],
    [-0.008745, -0.723082],
    [-0.507841, -1.265971],
    [0.511699, -0.103981],
    [0.264977, -0.550036],
    [0.984934, -0.124818],
    [-0.173925, -0.254854],
    [0.927861, 0.467179],
    [0.660284, -0.352970],
    [0.236105, -0.333610],
    [0.944734, -0.543146],
    [0.045227, -0.583834],
    [1.116284, -0.084617],
    [0.357889, -0.068925],
    [1.298184, -0.327787],
    [0.921729, -0.182738],
    [0.714854, 0.149056],
    [0.900174, 0.328505],
    [1.332025, 0.244441],
    [1.557802, 0.267495],
    [0.813291, -0.163350],
    [-0.305584, -0.368262],
    [-0.068126, -0.705172],
    [-0.189622, -0.680287],
    [0.136429, -0.314032],
    [1.380026, -0.420954],
    [0.588007, -0.484287],
    [0.806858, 0.194183],
    [1.220691, 0.407620],
    [0.815095, -0.372037],
    [0.245958, -0.268524],
    [0.166413, -0.681927],
    [0.464801, -0.670712],
    [0.890815, -0.034464],
    [0.230548, -0.404386],
    [-0.704532, -1.012248],
    [0.356981, -0.504910],
    [0.331934, -0.212655],
    [0.376216, -0.293219],
    [0.642576, 0.017738],
    [-0.906470, -0.756093],
    [0.299001, -0.348898],
    [2.531193, -0.009849],
    [1.415236, -0.574916],
    [2.616676, 0.343903],
    [1.971531, -0.179728],
    [2.350006, -0.040261],
    [3.397039, 0.550837],
    [0.521232, -1.192759],
    [2.932587, 0.355500],
    [2.321229, -0.243832],
    [2.916751, 0.782792],
    [1.661774, 0.242229],
    [1.803402, -0.215637],
    [2.165592, 0.216276],
    [1.346164, -0.776818],
    [1.585928, -0.539640],
    [1.904457, 0.119251],
    [1.949689, 0.041943],
    [3.487055, 1.175739],
    [3.795645, 0.257323],
    [1.300792, -0.761150],
    [2.427818, 0.378196],
    [1.199001, -0.606091],
    [3.499920, 0.460674],
    [1.388766, -0.204399],
    [2.275430, 0.334991],
    [2.614090, 0.560901],
    [1.258508, -0.179705],
    [1.291132, -0.116669],
    [2.123609, -0.209729],
    [2.388003, 0.464640],
    [2.841673, 0.375269],
    [3.230674, 1.374165],
    [2.159438, -0.217277],
    [1.444161, -0.143413],
    [1.781295, -0.499902],
    [3.076500, 0.688086],
    [2.144243, 0.140065],
    [1.905098, 0.049301],
    [1.169327, -0.164990],
    [2.107611, 0.372288],
    [2.314155, 0.183651],
    [1.922268, 0.409204],
    [1.415236, -0.574916],
    [2.563014, 0.277863],
    [2.418746, 0.304798],
    [1.944110, 0.187532],
    [1.527167, -0.375317],
    [1.764346, 0.078859],
    [1.900942, 0.116628],
    [1.390189, -0.282661],
]

mcu_data_run_3 = [
    [-2.684125, 0.319397],
    [-2.714141, -0.177001],
    [-2.888991, -0.144949],
    [-2.745343, -0.318299],
    [-2.728716, 0.326755],
    [-2.280859, 0.741331],
    [-2.820538, -0.089461],
    [-2.626145, 0.163385],
    [-2.886383, -0.578312],
    [-2.672755, -0.113774],
    [-2.506947, 0.645069],
    [-2.612755, 0.014730],
    [-2.786109, -0.235112],
    [-3.223804, -0.511394],
    [-2.644750, 1.178765],
    [-2.386039, 1.338062],
    [-2.623528, 0.810680],
    [-2.648297, 0.311849],
    [-2.199820, 0.872839],
    [-2.587986, 0.513560],
    [-2.310256, 0.391346],
    [-2.543705, 0.432996],
    [-3.215939, 0.133468],
    [-2.302733, 0.098709],
    [-2.355754, -0.037282],
    [-2.506669, -0.146017],
    [-2.468820, 0.130952],
    [-2.562320, 0.367719],
    [-2.639535, 0.312040],
    [-2.631989, -0.196961],
    [-2.587398, -0.204318],
    [-2.409932, 0.410925],
    [-2.648862, 0.813364],
    [-2.598737, 1.093146],
    [-2.636927, -0.121322],
    [-2.866241, 0.069365],
    [-2.625238, 0.599370],
    [-2.800684, 0.268644],
    [-2.980502, -0.487958],
    [-2.590006, 0.229044],
    [-2.770103, 0.263528],
    [-2.849369, -0.940961],
    [-2.997406, -0.341926],
    [-2.405614, 0.188872],
    [-2.209489, 0.436663],
    [-2.714451, -0.250208],
    [-2.538148, 0.503771],
    [-2.839462, -0.227946],
    [-2.543086, 0.579410],
    [-2.703360, 0.107706],
    [1.284826, 0.685161],
    [0.932489, 0.318334],
    [1.464303, 0.504263],
    [0.183318, -0.827959],
    [1.088103, 0.074591],
    [0.641669, -0.418247],
    [1.095061, 0.283469],
    [-0.749123, -1.004891],
    [1.044132, 0.228362],
    [-0.008745, -0.723082],
    [-0.507841, -1.265971],
    [0.511699, -0.103981],
    [0.264977, -0.550036],
    [0.984934, -0.124818],
    [-0.173925, -0.254854],
    [0.927861, 0.467179],
    [0.660284, -0.352970],
    [0.236105, -0.333610],
    [0.944734, -0.543146],
    [0.045227, -0.583834],
    [1.116284, -0.084617],
    [0.357889, -0.068925],
    [1.298184, -0.327787],
    [0.921729, -0.182738],
    [0.714854, 0.149056],
    [0.900174, 0.328505],
    [1.332025, 0.244441],
    [1.557802, 0.267495],
    [0.813291, -0.163350],
    [-0.305584, -0.368262],
    [-0.068126, -0.705172],
    [-0.189622, -0.680287],
    [0.136429, -0.314032],
    [1.380026, -0.420954],
    [0.588007, -0.484287],
    [0.806858, 0.194183],
    [1.220691, 0.407620],
    [0.815095, -0.372037],
    [0.245958, -0.268524],
    [0.166413, -0.681927],
    [0.464801, -0.670712],
    [0.890815, -0.034464],
    [0.230548, -0.404386],
    [-0.704532, -1.012248],
    [0.356981, -0.504910],
    [0.331934, -0.212655],
    [0.376216, -0.293219],
    [0.642576, 0.017738],
    [-0.906470, -0.756093],
    [0.299001, -0.348898],
    [2.531193, -0.009849],
    [1.415236, -0.574916],
    [2.616676, 0.343903],
    [1.971531, -0.179728],
    [2.350006, -0.040261],
    [3.397039, 0.550837],
    [0.521232, -1.192759],
    [2.932587, 0.355500],
    [2.321229, -0.243832],
    [2.916751, 0.782792],
    [1.661774, 0.242229],
    [1.803402, -0.215637],
    [2.165592, 0.216276],
    [1.346164, -0.776818],
    [1.585928, -0.539640],
    [1.904457, 0.119251],
    [1.949689, 0.041943],
    [3.487055, 1.175739],
    [3.795645, 0.257323],
    [1.300792, -0.761150],
    [2.427818, 0.378196],
    [1.199001, -0.606091],
    [3.499920, 0.460674],
    [1.388766, -0.204399],
    [2.275430, 0.334991],
    [2.614090, 0.560901],
    [1.258508, -0.179705],
    [1.291132, -0.116669],
    [2.123609, -0.209729],
    [2.388003, 0.464640],
    [2.841673, 0.375269],
    [3.230674, 1.374165],
    [2.159438, -0.217277],
    [1.444161, -0.143413],
    [1.781295, -0.499902],
    [3.076500, 0.688086],
    [2.144243, 0.140065],
    [1.905098, 0.049301],
    [1.169327, -0.164990],
    [2.107611, 0.372288],
    [2.314155, 0.183651],
    [1.922268, 0.409204],
    [1.415236, -0.574916],
    [2.563014, 0.277863],
    [2.418746, 0.304798],
    [1.944110, 0.187532],
    [1.527167, -0.375317],
    [1.764346, 0.078859],
    [1.900942, 0.116628],
    [1.390189, -0.282661],
]

mcu_data_run_4 = [
    [-2.684125, 0.319397],
    [-2.714141, -0.177001],
    [-2.888991, -0.144949],
    [-2.745343, -0.318299],
    [-2.728716, 0.326755],
    [-2.280859, 0.741331],
    [-2.820538, -0.089461],
    [-2.626145, 0.163385],
    [-2.886383, -0.578312],
    [-2.672755, -0.113774],
    [-2.506947, 0.645069],
    [-2.612755, 0.014730],
    [-2.786109, -0.235112],
    [-3.223804, -0.511394],
    [-2.644750, 1.178765],
    [-2.386039, 1.338062],
    [-2.623528, 0.810680],
    [-2.648297, 0.311849],
    [-2.199820, 0.872839],
    [-2.587986, 0.513560],
    [-2.310256, 0.391346],
    [-2.543705, 0.432996],
    [-3.215939, 0.133468],
    [-2.302733, 0.098709],
    [-2.355754, -0.037282],
    [-2.506669, -0.146017],
    [-2.468820, 0.130952],
    [-2.562320, 0.367719],
    [-2.639535, 0.312040],
    [-2.631989, -0.196961],
    [-2.587398, -0.204318],
    [-2.409932, 0.410925],
    [-2.648862, 0.813364],
    [-2.598737, 1.093146],
    [-2.636927, -0.121322],
    [-2.866241, 0.069365],
    [-2.625238, 0.599370],
    [-2.800684, 0.268644],
    [-2.980502, -0.487958],
    [-2.590006, 0.229044],
    [-2.770103, 0.263528],
    [-2.849369, -0.940961],
    [-2.997406, -0.341926],
    [-2.405614, 0.188872],
    [-2.209489, 0.436663],
    [-2.714451, -0.250208],
    [-2.538148, 0.503771],
    [-2.839462, -0.227946],
    [-2.543086, 0.579410],
    [-2.703360, 0.107706],
    [1.284826, 0.685161],
    [0.932489, 0.318334],
    [1.464303, 0.504263],
    [0.183318, -0.827959],
    [1.088103, 0.074591],
    [0.641669, -0.418247],
    [1.095061, 0.283469],
    [-0.749123, -1.004891],
    [1.044132, 0.228362],
    [-0.008745, -0.723082],
    [-0.507841, -1.265971],
    [0.511699, -0.103981],
    [0.264977, -0.550036],
    [0.984934, -0.124818],
    [-0.173925, -0.254854],
    [0.927861, 0.467179],
    [0.660284, -0.352970],
    [0.236105, -0.333610],
    [0.944734, -0.543146],
    [0.045227, -0.583834],
    [1.116284, -0.084617],
    [0.357889, -0.068925],
    [1.298184, -0.327787],
    [0.921729, -0.182738],
    [0.714854, 0.149056],
    [0.900174, 0.328505],
    [1.332025, 0.244441],
    [1.557802, 0.267495],
    [0.813291, -0.163350],
    [-0.305584, -0.368262],
    [-0.068126, -0.705172],
    [-0.189622, -0.680287],
    [0.136429, -0.314032],
    [1.380026, -0.420954],
    [0.588007, -0.484287],
    [0.806858, 0.194183],
    [1.220691, 0.407620],
    [0.815095, -0.372037],
    [0.245958, -0.268524],
    [0.166413, -0.681927],
    [0.464801, -0.670712],
    [0.890815, -0.034464],
    [0.230548, -0.404386],
    [-0.704532, -1.012248],
    [0.356981, -0.504910],
    [0.331934, -0.212655],
    [0.376216, -0.293219],
    [0.642576, 0.017738],
    [-0.906470, -0.756093],
    [0.299001, -0.348898],
    [2.531193, -0.009849],
    [1.415236, -0.574916],
    [2.616676, 0.343903],
    [1.971531, -0.179728],
    [2.350006, -0.040261],
    [3.397039, 0.550837],
    [0.521232, -1.192759],
    [2.932587, 0.355500],
    [2.321229, -0.243832],
    [2.916751, 0.782792],
    [1.661774, 0.242229],
    [1.803402, -0.215637],
    [2.165592, 0.216276],
    [1.346164, -0.776818],
    [1.585928, -0.539640],
    [1.904457, 0.119251],
    [1.949689, 0.041943],
    [3.487055, 1.175739],
    [3.795645, 0.257323],
    [1.300792, -0.761150],
    [2.427818, 0.378196],
    [1.199001, -0.606091],
    [3.499920, 0.460674],
    [1.388766, -0.204399],
    [2.275430, 0.334991],
    [2.614090, 0.560901],
    [1.258508, -0.179705],
    [1.291132, -0.116669],
    [2.123609, -0.209729],
    [2.388003, 0.464640],
    [2.841673, 0.375269],
    [3.230674, 1.374165],
    [2.159438, -0.217277],
    [1.444161, -0.143413],
    [1.781295, -0.499902],
    [3.076500, 0.688086],
    [2.144243, 0.140065],
    [1.905098, 0.049301],
    [1.169327, -0.164990],
    [2.107611, 0.372288],
    [2.314155, 0.183651],
    [1.922268, 0.409204],
    [1.415236, -0.574916],
    [2.563014, 0.277863],
    [2.418746, 0.304798],
    [1.944110, 0.187532],
    [1.527167, -0.375317],
    [1.764346, 0.078859],
    [1.900942, 0.116628],
    [1.390189, -0.282661],
]

mcu_data_run_5 = [
    [-2.684125, 0.319397],
    [-2.714141, -0.177001],
    [-2.888991, -0.144949],
    [-2.745343, -0.318299],
    [-2.728716, 0.326755],
    [-2.280859, 0.741331],
    [-2.820538, -0.089461],
    [-2.626145, 0.163385],
    [-2.886383, -0.578312],
    [-2.672755, -0.113774],
    [-2.506947, 0.645069],
    [-2.612755, 0.014730],
    [-2.786109, -0.235112],
    [-3.223804, -0.511394],
    [-2.644750, 1.178765],
    [-2.386039, 1.338062],
    [-2.623528, 0.810680],
    [-2.648297, 0.311849],
    [-2.199820, 0.872839],
    [-2.587986, 0.513560],
    [-2.310256, 0.391346],
    [-2.543705, 0.432996],
    [-3.215939, 0.133468],
    [-2.302733, 0.098709],
    [-2.355754, -0.037282],
    [-2.506669, -0.146017],
    [-2.468820, 0.130952],
    [-2.562320, 0.367719],
    [-2.639535, 0.312040],
    [-2.631989, -0.196961],
    [-2.587398, -0.204318],
    [-2.409932, 0.410925],
    [-2.648862, 0.813364],
    [-2.598737, 1.093146],
    [-2.636927, -0.121322],
    [-2.866241, 0.069365],
    [-2.625238, 0.599370],
    [-2.800684, 0.268644],
    [-2.980502, -0.487958],
    [-2.590006, 0.229044],
    [-2.770103, 0.263528],
    [-2.849369, -0.940961],
    [-2.997406, -0.341926],
    [-2.405614, 0.188872],
    [-2.209489, 0.436663],
    [-2.714451, -0.250208],
    [-2.538148, 0.503771],
    [-2.839462, -0.227946],
    [-2.543086, 0.579410],
    [-2.703360, 0.107706],
    [1.284826, 0.685161],
    [0.932489, 0.318334],
    [1.464303, 0.504263],
    [0.183318, -0.827959],
    [1.088103, 0.074591],
    [0.641669, -0.418247],
    [1.095061, 0.283469],
    [-0.749123, -1.004891],
    [1.044132, 0.228362],
    [-0.008745, -0.723082],
    [-0.507841, -1.265971],
    [0.511699, -0.103981],
    [0.264977, -0.550036],
    [0.984934, -0.124818],
    [-0.173925, -0.254854],
    [0.927861, 0.467179],
    [0.660284, -0.352970],
    [0.236105, -0.333610],
    [0.944734, -0.543146],
    [0.045227, -0.583834],
    [1.116284, -0.084617],
    [0.357889, -0.068925],
    [1.298184, -0.327787],
    [0.921729, -0.182738],
    [0.714854, 0.149056],
    [0.900174, 0.328505],
    [1.332025, 0.244441],
    [1.557802, 0.267495],
    [0.813291, -0.163350],
    [-0.305584, -0.368262],
    [-0.068126, -0.705172],
    [-0.189622, -0.680287],
    [0.136429, -0.314032],
    [1.380026, -0.420954],
    [0.588007, -0.484287],
    [0.806858, 0.194183],
    [1.220691, 0.407620],
    [0.815095, -0.372037],
    [0.245958, -0.268524],
    [0.166413, -0.681927],
    [0.464801, -0.670712],
    [0.890815, -0.034464],
    [0.230548, -0.404386],
    [-0.704532, -1.012248],
    [0.356981, -0.504910],
    [0.331934, -0.212655],
    [0.376216, -0.293219],
    [0.642576, 0.017738],
    [-0.906470, -0.756093],
    [0.299001, -0.348898],
    [2.531193, -0.009849],
    [1.415236, -0.574916],
    [2.616676, 0.343903],
    [1.971531, -0.179728],
    [2.350006, -0.040261],
    [3.397039, 0.550837],
    [0.521232, -1.192759],
    [2.932587, 0.355500],
    [2.321229, -0.243832],
    [2.916751, 0.782792],
    [1.661774, 0.242229],
    [1.803402, -0.215637],
    [2.165592, 0.216276],
    [1.346164, -0.776818],
    [1.585928, -0.539640],
    [1.904457, 0.119251],
    [1.949689, 0.041943],
    [3.487055, 1.175739],
    [3.795645, 0.257323],
    [1.300792, -0.761150],
    [2.427818, 0.378196],
    [1.199001, -0.606091],
    [3.499920, 0.460674],
    [1.388766, -0.204399],
    [2.275430, 0.334991],
    [2.614090, 0.560901],
    [1.258508, -0.179705],
    [1.291132, -0.116669],
    [2.123609, -0.209729],
    [2.388003, 0.464640],
    [2.841673, 0.375269],
    [3.230674, 1.374165],
    [2.159438, -0.217277],
    [1.444161, -0.143413],
    [1.781295, -0.499902],
    [3.076500, 0.688086],
    [2.144243, 0.140065],
    [1.905098, 0.049301],
    [1.169327, -0.164990],
    [2.107611, 0.372288],
    [2.314155, 0.183651],
    [1.922268, 0.409204],
    [1.415236, -0.574916],
    [2.563014, 0.277863],
    [2.418746, 0.304798],
    [1.944110, 0.187532],
    [1.527167, -0.375317],
    [1.764346, 0.078859],
    [1.900942, 0.116628],
    [1.390189, -0.282661],
]


mcu_data_runs = [
    np.array(mcu_data_run_1),  # Transformed data from firmware run 1
    np.array(mcu_data_run_2),  # Transformed data from firmware run 2
    np.array(mcu_data_run_3),  # Transformed data from firmware run 3
    np.array(mcu_data_run_4),  # Transformed data from firmware run 4
    np.array(mcu_data_run_5),  # Transformed data from firmware run 5
]

# Convert MCU data to numpy array
mcu_data = np.array(mcu_data_runs)

# Metrics for Comparison
def compare_data(pc_data_run, mcu_data_run):
    # Mean Absolute Error
    mae = np.mean(np.abs(pc_data_run - mcu_data_run))
    return mae

# Calculate MAE for each run
mae_pc_vs_mcu = [compare_data(pc_data[i], mcu_data[i]) for i in range(5)]

# Visualize Comparison
plt.figure(figsize=(14, 6))

print(mcu_data.shape)

# Explained Variance Comparison (Example Data)
# explained_variance_pc = [np.var(run, axis=0).sum() for run in pc_data]
# explained_variance_mcu = [np.var(run, axis=0).sum() for run in mcu_data]

# plt.subplot(1, 2, 1)
# plt.plot(range(1, 6), explained_variance_pc, label='PC Explained Variance', marker='o')
# plt.plot(range(1, 6), explained_variance_mcu, label='MCU Explained Variance', marker='x')
# plt.xlabel('Run')
# plt.ylabel('Explained Variance')
# plt.title('Explained Variance Comparison')
# plt.legend()

# Principal Components Comparison (First two components)
plt.subplot(1, 2, 1)
for i in range(1):
    plt.scatter(pc_data[i][:, 0], pc_data[i][:, 1], label=f'PC Run {i+1}', alpha=0.5, color='blue')
    plt.scatter(mcu_data[i][:, 0], mcu_data[i][:, 1], label=f'MCU Run {i+1}', marker='x', alpha=0.5, color='red')

plt.xlabel('Principal Component 1')
plt.ylabel('Principal Component 2')
plt.title('Principal Components Comparison')
plt.legend()

# Visualize MAE
plt.subplot(1, 2, 2)
plt.plot(range(1, 6), mae_pc_vs_mcu, marker='o', label='MAE PC vs MCU')
plt.xlabel('Run')
plt.ylabel('Mean Absolute Error')
plt.title('MAE Comparison')
plt.legend()

plt.tight_layout()
plt.show()

# Print Mean Absolute Error for each run
for i in range(5):
    print(f'MAE for Run {i+1}: {mae_pc_vs_mcu[i]}')